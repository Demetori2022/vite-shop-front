import{ae as g,u as v,a5 as w,r as d,a as p,o as x,a7 as b,b as a,w as s,V as h,i as S,S as B,d as o,g as c,aa as n,ac as R,e as q,f as C,h as N}from"./index.9630c3d1.js";import{V as U}from"./VDivider.5505b491.js";import{V as k,a as D}from"./VTextField.3cde1f47.js";const F={id:"product"},T={class:"text-center"},E={style:{"white-space":"pre"}},I=N("\u52A0\u5165\u8CFC\u7269\u8ECA"),A={__name:"ProductView",setup(M){const m=g(),_=v(),V=w(),l=d(0),f=p([t=>t>=1||"\u6578\u91CF\u932F\u8AA4"]),i=d(!1),e=p({_id:"",name:"",price:0,category:"",sell:!1,image:"",description:""}),y=()=>{!i.value||V.addCart({product:e._id,quantity:l.value})};return(async()=>{try{const{data:t}=await S.get("/products/"+m.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.category=t.result.category,e.sell=t.result.sell,e.image=t.result.image,e.description=t.result.description}catch{B.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),_.go(-1)}})(),(t,r)=>(x(),b("div",F,[a(h,null,{default:s(()=>[a(o,{cols:"12"},{default:s(()=>[c("h1",T,n(e.name),1)]),_:1}),a(U),a(o,{class:"text-center",cols:"12"},{default:s(()=>[a(R,{src:e.image},null,8,["src"]),c("p",null,"$"+n(e.price),1)]),_:1}),a(o,{cols:"12"},{default:s(()=>[c("p",E,n(e.description),1)]),_:1}),a(o,{cols:"12"},{default:s(()=>[a(k,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=u=>i.value=u),onSubmit:q(y,["prevent"])},{default:s(()=>[a(D,{type:"number",label:"\u6578\u91CF",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=u=>l.value=u),rules:f},null,8,["modelValue","rules"]),a(C,{color:"primary",type:"submit"},{default:s(()=>[I]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]))}};export{A as default};
